{% extends "usuarios/admin/admin_base.html" %}
{% block title %}Reportes Generales{% endblock %}
 
{% block admin_content %}
<style>
  .report-card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    text-decoration: none;
    color: inherit;
  }
  .report-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15)!important;
    color: inherit;
  }
  .report-card .card-body {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .report-card .display-4 {
    font-weight: 700;
  }
  .report-card i {
    font-size: 3rem;
    opacity: 0.3;
  }
</style>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h5 class="mb-0">Reportes y Estadísticas Generales</h5>
  <a href="{% url 'admin_gestion_reportes' %}" class="btn btn-outline-primary">
    <i class="bi bi-file-earmark-text-fill me-2"></i>Crear/Ver Reportes Académicos
  </a>
</div>

<div class="row">
  <!-- Tarjeta de Usuarios -->
  <div class="col-xl-4 col-md-6 mb-4">
    <a href="{% url 'admin_usuarios' %}" class="card border-left-primary shadow h-100 py-2 report-card">
      <div class="card-body">
        <div>
          <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Total Usuarios</div>
          <div class="h5 mb-0 font-weight-bold text-gray-800 display-4">{{ total_usuarios }}</div>
        </div>
        <i class="bi bi-people-fill"></i>
      </div>
    </a>
  </div>

  <!-- Tarjeta de Fichas -->
  <div class="col-xl-4 col-md-6 mb-4">
    <a href="{% url 'admin_fichas' %}" class="card border-left-success shadow h-100 py-2 report-card">
      <div class="card-body">
        <div>
          <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Total Fichas</div>
          <div class="h5 mb-0 font-weight-bold text-gray-800 display-4">{{ total_fichas }}</div>
        </div>
        <i class="bi bi-collection-fill"></i>
      </div>
    </a>
  </div>

  <!-- Tarjeta de Programas -->
  <div class="col-xl-4 col-md-6 mb-4">
    <a href="{% url 'admin_programas' %}" class="card border-left-info shadow h-100 py-2 report-card">
      <div class="card-body">
        <div>
          <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Total Programas</div>
          <div class="h5 mb-0 font-weight-bold text-gray-800 display-4">{{ total_programas }}</div>
        </div>
        <i class="bi bi-book-half"></i>
      </div>
    </a>
  </div>
</div>

<hr class="my-4">
<h6 class="mb-3">Desglose por Rol</h6>

<div class="row">
  <div class="col-lg-4 mb-4">
    <div class="card bg-light text-dark">
      <div class="card-body">Aprendices<span class="badge bg-dark float-end">{{ total_aprendices }}</span></div>
    </div>
  </div>
  <div class="col-lg-4 mb-4">
    <div class="card bg-light text-dark">
      <div class="card-body">Instructores<span class="badge bg-dark float-end">{{ total_instructores }}</span></div>
    </div>
  </div>
  <div class="col-lg-4 mb-4">
    <div class="card bg-light text-dark">
      <div class="card-body">Administrativos<span class="badge bg-dark float-end">{{ total_administrativos }}</span></div>
    </div>
  </div>
</div>

{% endblock %}