{% extends "usuarios/admin/admin_base.html" %}
{% block title %}Detalle del Reporte{% endblock %}

{% block admin_content %}
<div class="card shadow-sm">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h6 class="m-0 font-weight-bold text-primary">
      <i class="bi bi-file-earmark-text-fill me-2"></i>Detalle del Reporte
    </h6>
    <a href="{% url 'admin_gestion_reportes' %}" class="btn btn-outline-secondary btn-sm">
      <i class="bi bi-arrow-left"></i> Volver al Historial
    </a>
  </div>
  <div class="card-body">
    {% if reporte %}
      <div class="row">
        <div class="col-md-6">
          <p><strong>Tipo de Reporte:</strong><br>
            <span class="badge bg-info fs-6">{{ reporte.tipo }}</span>
          </p>
        </div>
        <div class="col-md-6">
          <p><strong>Fecha de Creación:</strong><br>
            {{ reporte.fecha_creacion|date:"d \d\e F \d\e Y, h:i A" }}
          </p>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-md-6">
          <p><strong>Aprendiz:</strong><br>
            {{ reporte.aprendiz.get_full_name|default:reporte.aprendiz.username }}
          </p>
          <p><strong>Ficha:</strong><br>
            {{ reporte.ficha.numero|default:"N/A" }} ({{ reporte.ficha.programa.nombre|default:"Sin programa" }})
          </p>
        </div>
        <div class="col-md-6">
          <p><strong>Creado por (Instructor/Admin):</strong><br>
            {{ reporte.instructor.get_full_name|default:reporte.instructor.username }}
          </p>
        </div>
      </div>
      <hr>
      <p><strong>Descripción del Reporte:</strong></p>
      <div class="p-3 bg-light rounded border">
        <p class="mb-0" style="white-space: pre-wrap;">{{ reporte.descripcion }}</p>
      </div>
    {% else %}
      <div class="alert alert-warning">No se encontró el reporte solicitado.</div>
    {% endif %}
  </div>
</div>
{% endblock %}